<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>分别用Shell命令和JAVA代码对HDFS进行操作</title>
      <link href="/posts/30e17b1b.html"/>
      <url>/posts/30e17b1b.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/05/01/JO2ft1.jpg"><a id="more"></a><p><a href="https://xwmrcj.com/posts/30e17b1b.html" class="LinkCard">分别用Shell命令和JAVA代码对HDFS进行操作</a></p><h3 id="HDFS-Shell命令操作"><a href="#HDFS-Shell命令操作" class="headerlink" title="HDFS-Shell命令操作"></a>HDFS-Shell命令操作</h3><p>进入/usr/local/hadoop:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop</span><br></pre></td></tr></table></figure></div><p>首次使用hdfs时，需要使用format命令进行格式化:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs namenode -format</span><br></pre></td></tr></table></figure></div><p>使用start-dfs.sh命令启动hdfs，可以使用 jps 命令查看是否成功启动:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./sbin/start-dfs.sh</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6q7Ae.png"><p>创建hdfs的文件目录（虚拟）</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -mkdir -p /user/hadoop/input</span><br></pre></td></tr></table></figure></div><p>查看hdfs下的文件目录:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -ls</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6qo7D.png"><p>在桌面创建一个测试文本文件:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /home/hadoop/桌面/testinput.txt</span><br></pre></td></tr></table></figure></div><p>打开桌面的testinput文本，输入一些信息，如：hello world！什么的····</p><p>使用hdfs的put命令将本地文件考到hdfs的input目录中：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -put /home/hadoop/桌面/testinput.txt input</span><br></pre></td></tr></table></figure></div><p>使用-ls查看input目录下的文件:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -ls input</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6qHtH.png"><p>使用-cat命令查看input目录下testinput文件内容:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -cat input/testinput.txt</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6qI0O.png"><p>使用-get命令将input目录下的某一文件拷到本地磁盘中:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm /home/hadoop/桌面/testinput.txt # 先删除桌面已有的testinput.txt</span><br><span class="line">./bin/hdfs dfs -get input/testinput.txt /home/hadoop/桌面 #执行拷贝</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6qbhd.png"><p>使用-rm命令将input目录下某一文件删除：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -rm /user/hadoop/input/testinput.txt</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/26/J6q5nK.png"><hr><h3 id="HDFS-Java程序设计"><a href="#HDFS-Java程序设计" class="headerlink" title="HDFS-Java程序设计"></a>HDFS-Java程序设计</h3><p>首先选择IDE，像：eclipse，idea等等</p><div class="note info">            <p>摸鱼怪选择的是idea，Ubuntu下安装idea具体步骤请参考<a href="https://blog.csdn.net/qinkang1993/article/details/54631606" target="_blank" rel="noopener">这篇博文</a></p><p>在idea新建一个Java Project，并import需要的Hadoop JAR包，具体步骤请参考<a href="https://www.cnblogs.com/airnew/p/9540982.html" target="_blank" rel="noopener">这篇博文</a></p><p>摸鱼去了<span style="color: #08A3F9;">o(<em>￣▽￣</em>)o</span></p>          </div><ul><li><p>判断HDFS目录中对应文件是否存在</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HDFSFileIfExist</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String fileName = <span class="string">"hdfs://localhost:9000/user/hadoop/input/testinput.txt"</span>;</span><br><span class="line">            Configuration conf = <span class="keyword">new</span> Configuration();</span><br><span class="line">            conf.set(<span class="string">"fs.defaultFS"</span>, <span class="string">"hdfs://localhost:9000"</span>);</span><br><span class="line">            conf.set(<span class="string">"fs.hdfs.impl"</span>, <span class="string">"org.apache.hadoop.hdfs.DistributedFileSystem"</span>);</span><br><span class="line">            FileSystem fs = FileSystem.get(conf);</span><br><span class="line">            <span class="keyword">if</span>(fs.exists(<span class="keyword">new</span> Path(fileName)))&#123;</span><br><span class="line">                System.out.println(<span class="string">"exists!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"not exists!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            fs.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>如果存在testinput.txt文件存在，则返回 exists! ；否则返回 not exists!</p><p>如果出现一下情况：</p><img src="https://s1.ax1x.com/2020/05/01/JOce1O.png"><p>解决方法：</p><p>添加 hdfs下的 <strong>hadoop-hdfs-client-3.2.1.jar</strong>（可能版本号不一样）</p><img src="https://s1.ax1x.com/2020/05/01/JOcLKe.png"></li><li><p>读取HDFS目录中 testinput.txt 文件内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FsUrlStreamHandlerFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IOUtils;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadHDFSFileContents</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Configuration conf = <span class="keyword">new</span> Configuration();</span><br><span class="line">        conf.set(<span class="string">"fs.defaultFS"</span>, <span class="string">"hdfs://localhost:9000"</span>);</span><br><span class="line">        conf.set(<span class="string">"fs.hdfs.impl"</span>, <span class="string">"org.apache.hadoop.hdfs.DistributedFileSystem"</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            URL.setURLStreamHandlerFactory(<span class="keyword">new</span> FsUrlStreamHandlerFactory());</span><br><span class="line">            InputStream in = <span class="keyword">new</span> URL(<span class="string">"hdfs://localhost:9000/user/hadoop/input/testinput.txt"</span>).openStream();</span><br><span class="line">            IOUtils.copyBytes(in, System.out, <span class="number">4096</span>, <span class="keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>返回结果应为 testinput.txt 文本里的内容</p></li><li><p>读取HDFS相应文件的BLOCK信息</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.URI;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileStatus;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.BlockLocation;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadHDFSBlockContents</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        String uri = <span class="string">"hdfs://localhost:9000/user/hadoop/input/testinput.txt"</span>;</span><br><span class="line">        Configuration conf = <span class="keyword">new</span> Configuration();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            FileSystem fs = FileSystem.get(<span class="keyword">new</span> URI(uri), conf);</span><br><span class="line">            Path path = <span class="keyword">new</span> Path(uri);</span><br><span class="line">            FileStatus fileStatus = fs.getFileStatus(path);</span><br><span class="line">            BlockLocation blkLocation[] = fs.getFileBlockLocations(fileStatus, <span class="number">0</span>, fileStatus.getLen());</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;blkLocation.length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                String[] hosts = blkLocation[i].getHosts();</span><br><span class="line">                System.out.println(<span class="string">"block_"</span> + i + <span class="string">"_location: "</span>+hosts[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>删除HDFS目录中相应文件</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeleteHDFSFile</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Configuration conf = <span class="keyword">new</span> Configuration();</span><br><span class="line">        conf.set(<span class="string">"fs.defaultFS"</span>, <span class="string">"hdfs://localhost:9000"</span>);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            FileSystem fs = FileSystem.get(conf);</span><br><span class="line">            <span class="keyword">boolean</span> deleteOnExit = fs.deleteOnExit(<span class="keyword">new</span> Path(<span class="string">"/user/hadoop/input/testinput.txt"</span>));</span><br><span class="line">            System.out.println(deleteOnExit);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>返回结果为 true 或者 false</p></li></ul><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派的一些基础配置(一)</title>
      <link href="/posts/5779fee6.html"/>
      <url>/posts/5779fee6.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/04/27/JWn5yd.jpg"><a id="more"></a><p><a href="https://xwmrcj.com/posts/5779fee6.html" class="LinkCard">树莓派的一些基础配置(一)</a></p><hr><h3 id="换源操作：将树莓派国外默认的中间商，换成国内较近的中间商"><a href="#换源操作：将树莓派国外默认的中间商，换成国内较近的中间商" class="headerlink" title="换源操作：将树莓派国外默认的中间商，换成国内较近的中间商"></a>换源操作：将树莓派国外默认的中间商，换成国内较近的中间商</h3><p>输入命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>注释掉第一行中间商，换为 ”清华“ 或其他中间商</p>          </div><img src="https://s1.ax1x.com/2020/04/27/JWke9s.png"><p>清华Raspbian 镜像：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main non-free contrib</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main non-free contrib</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>stretch为Debian版本9，根据自己情况选择合适的Debian版本，<a href="https://mirror.tuna.tsinghua.edu.cn/help/raspbian/" target="_blank" rel="noopener">清华大学树莓派镜像站</a></p>          </div><hr><h3 id="更新软件包"><a href="#更新软件包" class="headerlink" title="更新软件包"></a>更新软件包</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure></div><hr><h3 id="树莓派python配置"><a href="#树莓派python配置" class="headerlink" title="树莓派python配置"></a>树莓派python配置</h3><p>安装python（有就不需要了）：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3  # 会安装默认版本python2</span><br><span class="line">sudo apt-get install python3-pip  # 安装python的第三方安装工具</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/27/JWkFHS.png"><p>更改python的默认版本为python3：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /usr/bin/python  # 删除默认的python链接</span><br><span class="line">sudo ln -s /usr/bin/python3.5 /usr/bin/python  # 新建python链接指向python3版本</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/27/JWkENQ.png"><p>给pip换个中间商：</p><p>临时换用：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install '安装么子名' -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/27/JWkm3n.png"><p>默认换用：<a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank" rel="noopener">清华大学pypi镜像</a></p><hr><h3 id="用VNC远程登陆树莓派"><a href="#用VNC远程登陆树莓派" class="headerlink" title="用VNC远程登陆树莓派"></a>用VNC远程登陆树莓派</h3><p>打开树莓派配置文件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SH"><figure class="iseeu highlight /sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config</span><br></pre></td></tr></table></figure></div><img src="https://s1.ax1x.com/2020/04/27/JWkuj0.png"><div class="note info">            <p>选择<strong><em>5 Interfacing Options</em></strong>，按enter间进入；然后选择p3 VNC，按enter键进入；选择Yes—&gt;OK—&gt;Finish开启VNC</p>          </div><p>然后下载安装一个  VNC-Viewer 软件，安装完成后：</p><p>打开软件，点击左上角File，选择New connection，然后填写树莓派的IP地址，和自定义一个名字：</p><img src="https://s1.ax1x.com/2020/04/27/JWkAAg.png"><p>完成后会出现一个电脑图标，点开，输入树莓派用户和密码</p><img src="https://s1.ax1x.com/2020/04/27/JWkVhj.png"><div class="note success">            <p>恭喜完成VNC远程登陆</p>          </div><img src="https://s1.ax1x.com/2020/04/27/JWkncq.png"><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> 树莓派 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树莓派从烧录系统到ssh远程访问</title>
      <link href="/posts/6e6d20d.html"/>
      <url>/posts/6e6d20d.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/04/25/JyuZFJ.png"><a id="more"></a><p><a href="https://xwmrcj.com/posts/6e6d20d.html" class="LinkCard">树莓派从烧录系统到ssh远程访问</a></p><p><strong>树莓派</strong>（英语：<strong>Raspberry Pi</strong>）是基于<a href="https://zh.wikipedia.org/wiki/Linux" target="_blank" rel="noopener">Linux</a>的<a href="https://zh.wikipedia.org/wiki/单片机" target="_blank" rel="noopener">单片机</a>电脑(别看它小，五脏俱全)，由<a href="https://zh.wikipedia.org/wiki/英國" target="_blank" rel="noopener">英国</a>树莓派基金会开发，目的是以低价<a href="https://zh.wikipedia.org/wiki/硬體" target="_blank" rel="noopener">硬件</a>及<a href="https://zh.wikipedia.org/wiki/自由軟體" target="_blank" rel="noopener">自由软件</a>促进学校的基本<a href="https://zh.wikipedia.org/wiki/电脑科学" target="_blank" rel="noopener">计算机科学</a>教育。</p><p>要想捣鼓它，首先得给它注入灵魂<span style="color: #EC50BA">(ง •_•)ง</span></p><hr><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>硬件：</p><ul><li><p>树莓派主板 (肉体)：型号有A/A+/B/B+/2代B型/3代B型/3代B+型/Compute Module/4代B型，2代以后主板就自带了WiFi和蓝牙模块 (2代以前如想用WiFi，则还需自购无线网卡)</p></li><li><p>一些配件 (骨架)：鼠标，键盘 (摸鱼怪觉得不必买树莓派专用的，就用自己打游戏的就ok了，主要原因“穷”)，屏幕 (可以用电视代替( $ _ $ ))，电源 (一般手机的5v充电器就可以带动了)，SD卡 (相当于树莓派的存储设备，16G即可)，读卡器 (烧录系统用)其他配件等等······</p><p>鼠标，键盘，屏幕可有可无。</p></li></ul><p>软件：</p><ul><li><p>系统(灵魂)</p><img src="https://s1.ax1x.com/2020/04/25/Js7Zw9.png"></li></ul><p>Raspbian：树莓派的专用版本（需要烧录）</p><p>NOOBS：全称 New Out Of Box System（全新开箱即用系统）不需要烧录直接CV到SD卡</p><ul><li><p>SD卡格式化工具 SDFormatter：</p><p>新的SD卡就不需要格式化，主要是旧的SD卡</p><p>选择好需要格式化的盘(注意一定要选择对)，选项配置默认即可，也许第一次格式化会失败，在格式化一次即可。</p></li><li><p>镜像烧录工具 Win32DiskImager：</p><img src="https://s1.ax1x.com/2020/04/25/JsO1ZF.png"><div class="note info">            <p>选择好系统镜像位置和盘符（一般它会自动识别）后，点击Write，弹出的警告选择Yes，然后就是等待烧录了······</p>          </div></li></ul><hr><h3 id="烧录成功之后"><a href="#烧录成功之后" class="headerlink" title="烧录成功之后"></a>烧录成功之后</h3><ul><li><p>在SD卡boot盘下新建一个ssh文件（注意没有后缀名，也不是文件夹）为空即可，作用：在树莓派开机时就允许ssh协议远程通信</p></li><li><p>同样在该目录下新建一个WiFi配置文件 wpa_supplicant.conf，复制一下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">country=GB</span><br><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line">network=&#123;</span><br><span class="line">ssid=&quot;你的WiFi名&quot;</span><br><span class="line">psk=&quot;你的WiFi密码&quot;</span><br><span class="line">priority=5 # 优先级设置</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>注意需要修改的部分哦！！！需要设置多个WiFi时，只需复制network里的内容，然后修改即可</p>          </div></li><li><p>以上完毕之后，将SD卡插入树莓派主板，连接好一些配件，然后通电(喂食)，让它启动。</p><p>如果连接了屏幕，会显示ssh协议不安全(不用管即可)，然后就是welcome啦什么的，个人建议（叫你update时，忽略即可，不然就会等的花都谢了(￣ ‘i ￣;)）</p></li></ul><hr><h3 id="ssh远程访问树莓派"><a href="#ssh远程访问树莓派" class="headerlink" title="ssh远程访问树莓派"></a>ssh远程访问树莓派</h3><p>首先你的获取树莓派的IP地址：</p><ul><li>如果连接了屏幕，这就好办了，只需点击树莓派WiFi的logo，即可查看当前树莓派的IP地址了</li><li>如果没有屏幕，可以下载”局域网IP扫描器“软件，扫描当前网段下所有设备的IP地址</li><li>或者登陆WiFi路由器的后台查看分配给树莓派的IP地址</li></ul><p>下载putty工具(用于ssh远程连接)</p><img src="https://s1.ax1x.com/2020/04/25/JyCtWF.png"><p>然后点击Open，弹出的警告窗口，选择Yes</p><p>login as：输入pi</p><p>password：输入树莓派默认密码 raspberry（如果修改了密码的，输入修改后的密码）</p><img src="https://s1.ax1x.com/2020/04/25/JyFMsH.png"><div class="note success">            <p>OK，ssh远程访问树莓派就大功告成了<span style="color: #08A3F9">（￣︶￣）↗　</span></p>          </div><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> 树莓派 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树莓派 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCV-Python个人总结(一)</title>
      <link href="/posts/f3f83f34.html"/>
      <url>/posts/f3f83f34.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/04/19/JKYE4A.png"><a id="more"></a><p><a href="https://xwmrcj.com/posts/f3f83f34.html" class="LinkCard">OpenCV-Python个人总结(一)</a></p><p><a href="http://c.biancheng.net/opencv/" target="_blank" rel="noopener">OpenCV</a> 是一个开源的计算机视觉库，由于摸鱼怪准备下学期入坑物联网，所以提前对OpenCV做些了解<span style="color:rgb(0,178,118)">(ง •_•)ง</span>，以下是个人对OpenCV的一些总结(主要是一些函数)<span style="color: #7550EC">( ఠൠఠ )ﾉ</span></p><hr><h6 id="读入图像"><a href="#读入图像" class="headerlink" title="读入图像"></a>读入图像</h6><p>使用函数cv2.imread()读入图像：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">'图像路径'</span>，以何种方式读取图片)</span><br></pre></td></tr></table></figure></div><p>第一个参数：读取图像的路径</p><p>第二个参数(可忽略，默认读取彩色图)：读取彩色图cv2.IMREAD_COLOR(默认值为1)，读取灰度图cv2.IMREAD_GRAYSCALE(默认值为0)</p><div class="note warning">            <p>opencv不会提醒图像路径是否正确，可以用”print img”输出结果是否为None查看</p>          </div><h6 id="显示图像"><a href="#显示图像" class="headerlink" title="显示图像"></a>显示图像</h6><p>使用函数cv2.imshow()显示图像</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cv2.imshow(<span class="string">'窗口名字'</span>, 图像名字)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><p>cv2.waitKey()是一个键盘绑定函数，时间尺度是毫秒级，看在等待的这段时间里是否有键盘输入，如果值为0，时间将无限期</p><p>cv2.destroyAllWindows()删除所有窗口</p><p>cv2.destroyWindow()删除指定窗口，参数为窗口名</p><div class="note info">            <p>先创建窗口，在加载图片，使用函数cv2.namedWindow()，第二个参数：cv2.WINDOW_AUTOSIZE为图片不会随窗口调整，cv2.WINDOW_NORMAL图片随窗口调整；下面代码中的窗口名字要一致，否则会出现两个窗口</p>          </div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cv2.namedWindow(<span class="string">'窗口名字'</span>, cv2.WINDOW_NORMAL)</span><br><span class="line">cv2.imshow(<span class="string">'窗口名字'</span>,图像名字)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><h6 id="图像保存"><a href="#图像保存" class="headerlink" title="图像保存"></a>图像保存</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(<span class="string">'存放路径'</span>,图像名字)</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>存放路径默认为当前文件夹，路径最好不要含中文，否则会出现一些小问题</p>          </div><hr><h6 id="调用摄像头"><a href="#调用摄像头" class="headerlink" title="调用摄像头"></a>调用摄像头</h6><p>创建VideoCapture 对象，它的参数可以是一个设备索引或者是一个视频文件名。参数为0表示调用笔笔记本内置摄像头，最后释放该对象，函数release()</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    cv2.imshow(<span class="string">'frame'</span>, gray)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cap.release() <span class="comment"># 释放</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><p>cap.read()第一个返回值ret为布尔类型，表示是否正确读取该帧，第二个返回值frame表示截取到一帧的图片，可用isOpened()函数检查初始化是否成功</p><p>cv2.cvtColor表示颜色模型转换，参数1是要转换的图片，参数2是转换模式(cv2.COLOR_BGR2GRAY表示转为灰度图)</p><p>cv2.waitKey(1) 与 0xFF（1111 1111）相与是因为cv2.waitKey(1) 的返回值不止8位，但是只有后8位实际有效，为避免产干扰，通过 ‘与’ 操作将其余位置0(这点其实本人也不太理解)</p><p>cap.get(propId)可获取视频的一些参数信息，cap.get(3)获取每一帧的宽，get.cap(4)获取每一帧的高；cap.set(propId, value)可修改参数信息</p><h6 id="播放视频文件"><a href="#播放视频文件" class="headerlink" title="播放视频文件"></a>播放视频文件</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">cap = cv2.VideoCapture(<span class="string">'视频文件路径'</span>)</span><br><span class="line"><span class="keyword">while</span>(cap.isOpened()):</span><br><span class="line">ret, frame = cap.read()</span><br><span class="line">cv2.imshow(<span class="string">'frame'</span>, frame)</span><br><span class="line"><span class="keyword">if</span> cv2.waitKey(<span class="number">25</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">cap.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><h6 id="保存视频"><a href="#保存视频" class="headerlink" title="保存视频"></a>保存视频</h6><p>创建VideoWriter对象，第一个参数为输出路径，第二个参数为FourCC编码(FourCC 就是一个 4 字节码，用来确定视频的编码格式。可用的编码列表 可以从<a href="http://www.fourcc.org/codecs.php" target="_blank" rel="noopener">fourcc.org</a>查到)，第三个参数为播放频率，第四个参数是帧大小，最后一个参数为是isColor，如果是True为彩色图(默认)，False为灰度图(摸鱼怪在尝试用灰度图时，输出的视频编码错误，很神奇不知为啥＞﹏＜)</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">cap = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">fourcc = cv2.VideoWriter_fourcc(*<span class="string">'mp4v'</span>)</span><br><span class="line">out = cv2.VideoWriter(<span class="string">'视频存放路径'</span>, fourcc, <span class="number">25</span>, (<span class="number">640</span>, <span class="number">480</span>))</span><br><span class="line"><span class="keyword">while</span>(cap.isOpened()):</span><br><span class="line">    ret, frame = cap.read()</span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:</span><br><span class="line">        frame = cv2.flip(frame, <span class="number">0</span>)</span><br><span class="line">        out.write(frame)</span><br><span class="line">        cv2.imshow(<span class="string">'frame'</span>, frame)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == ord(<span class="string">'q'</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">cap.release()</span><br><span class="line">out.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><div class="note warning">            <p>FourCC的编码格式应依赖于自己的平台</p>          </div><p>cv2.VideoWriter_fourcc(*‘XVID’)编码为avi格式，记得文件后缀应时”.avi”，cv2.VideoWriter_fourcc(*’mp4v’)编码为MP4格式</p><p>cv2.flip()函数进行图像翻转，第一个参数为翻转对象，第二个参数：”&gt;0”表示水平翻转，”=0”垂直翻转，”&lt;0”水平和垂直翻转</p><hr><h6 id="画线"><a href="#画线" class="headerlink" title="画线"></a>画线</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">img = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)</span><br><span class="line">img = cv2.line(img, (<span class="number">0</span>, <span class="number">0</span>), (<span class="number">250</span>, <span class="number">250</span>), (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">5</span>)</span><br><span class="line">cv2.imshow(<span class="string">'frame'</span>, img)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><p>np.zeros((512, 512, 3), np.uint8)的作用时建立一个512×512黑色的画布</p><p>np.zeros((512, 512, 3), np.uint8)+255则会建立一个白色的画布</p><p>cv2.line()：第一个参数是需要绘制的图像，第二个是绘制的起始位置，第三个是绘制的末位置，第四个是颜色BGR，第五个thickness是线条粗细(默认值为1，如果给一个闭合图形设置为 -1，那么这个图形就会被填充)，其他参数默认</p><h6 id="画矩形"><a href="#画矩形" class="headerlink" title="画矩形"></a>画矩形</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.rectangle(img, (<span class="number">100</span>, <span class="number">100</span>), (<span class="number">300</span>, <span class="number">300</span>), (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">5</span>)</span><br></pre></td></tr></table></figure></div><p>该函数第二个参数和第三个参数分别为左上角顶点和右下角顶点，其他同上</p><h6 id="画圆"><a href="#画圆" class="headerlink" title="画圆"></a>画圆</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.circle(img, (<span class="number">200</span>, <span class="number">200</span>), <span class="number">25</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">-1</span>)</span><br></pre></td></tr></table></figure></div><p>该函数第二个参数和第三个参数分别为圆形的中心坐标和半径大小，其他同上</p><h6 id="画椭圆"><a href="#画椭圆" class="headerlink" title="画椭圆"></a>画椭圆</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.ellipse(img, (<span class="number">256</span>, <span class="number">256</span>), (<span class="number">100</span>, <span class="number">50</span>), <span class="number">0</span>, <span class="number">0</span>, <span class="number">180</span>, <span class="number">255</span>, <span class="number">-1</span>)</span><br></pre></td></tr></table></figure></div><p>第二个参数是中心坐标值，第三个参数分别是长轴和短轴，第四个参数是椭圆沿逆时针方向旋转的角度，第五个和第六个参数分别是椭圆弧演顺时针方向起始的角度和结束角度(如果分别为0、360是整个椭圆；如果为0、180则是下半部分椭圆)，其他同上</p><h6 id="添加文字"><a href="#添加文字" class="headerlink" title="添加文字"></a>添加文字</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">font=cv2.FONT_HERSHEY_SIMPLEX <span class="comment"># 字体类型</span></span><br><span class="line">cv2.putText(img,<span class="string">'OpenCV'</span>,(<span class="number">100</span>,<span class="number">100</span>), font, <span class="number">4</span>,(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br></pre></td></tr></table></figure></div><p>cv2.putText()第二个参数是添加内容，第三个参数是绘制位置，第四个是字体类型，第五个是字体大小，第六个是字体粗细</p><hr><h6 id="查询所有被支持的鼠标事件"><a href="#查询所有被支持的鼠标事件" class="headerlink" title="查询所有被支持的鼠标事件"></a>查询所有被支持的鼠标事件</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line">events = [i <span class="keyword">for</span> i <span class="keyword">in</span> dir(cv2) <span class="keyword">if</span> <span class="string">'EVENT'</span> <span class="keyword">in</span> i]</span><br><span class="line">print(events)</span><br></pre></td></tr></table></figure></div><p><a href="https://blog.csdn.net/akadiao/article/details/80312254" target="_blank" rel="noopener">event鼠标事件</a></p><h6 id="在双击过的地方绘制圆"><a href="#在双击过的地方绘制圆" class="headerlink" title="在双击过的地方绘制圆"></a>在双击过的地方绘制圆</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding = utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_circle</span><span class="params">(event, x, y, flags, param)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> event == cv2.EVENT_LBUTTONDBLCLK:</span><br><span class="line">        cv2.circle(img, (x, y), <span class="number">100</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建图像与窗口并将窗口与回调函数绑定</span></span><br><span class="line">img = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)</span><br><span class="line">cv2.namedWindow(<span class="string">'image'</span>)</span><br><span class="line">cv2.setMouseCallback(<span class="string">'image'</span>, draw_circle)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    cv2.imshow(<span class="string">'image'</span>, img)</span><br><span class="line">    <span class="keyword">if</span> cv2.waitKey(<span class="number">20</span>) &amp; <span class="number">0xFF</span> == <span class="number">27</span>: <span class="comment"># 按Esc键退出</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><p>cv2.setMouseCallback()：第一个参数为窗口名字，第二个参数鼠标响应函数，回调函数(函数原型：函数名(event, x, y, flags, param))</p><p>鼠标响应函数(回调函数)：event是 CV_EVENT_*变量之一，x和y是鼠标指针在图像坐标系的坐标，flags是CV_EVENT_FLAG的组合， param是用户定义的传递到setMouseCallback函数调用的参数</p><hr><h6 id="用滑动条做调色板"><a href="#用滑动条做调色板" class="headerlink" title="用滑动条做调色板"></a>用滑动条做调色板</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nothing</span><span class="params">(x)</span>:</span> <span class="comment"># 该函数不做任何事</span></span><br><span class="line">    <span class="keyword">pass</span> <span class="comment"># 占位语句</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img = np.zeros((<span class="number">512</span>, <span class="number">512</span>, <span class="number">3</span>), np.uint8)</span><br><span class="line">cv2.namedWindow(<span class="string">'image'</span>)</span><br><span class="line"></span><br><span class="line">cv2.createTrackbar(<span class="string">'R'</span>, <span class="string">'image'</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line">cv2.createTrackbar(<span class="string">'G'</span>, <span class="string">'image'</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line">cv2.createTrackbar(<span class="string">'B'</span>, <span class="string">'image'</span>, <span class="number">0</span>, <span class="number">255</span>, nothing)</span><br><span class="line"></span><br><span class="line">switch = <span class="string">'0:OFF\n1:ON'</span> <span class="comment"># 创建一个转换按钮(只有当该按钮指向ON时才能调色，否则窗口一直为黑色)</span></span><br><span class="line">cv2.createTrackbar(switch, <span class="string">'image'</span>, <span class="number">0</span>, <span class="number">1</span>, nothing)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    cv2.imshow(<span class="string">'image'</span>, img)</span><br><span class="line">    k = cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span></span><br><span class="line">    <span class="keyword">if</span> k == <span class="number">27</span>: <span class="comment"># 按ESC键退出</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    r = cv2.getTrackbarPos(<span class="string">'R'</span>, <span class="string">'image'</span>)</span><br><span class="line">    g = cv2.getTrackbarPos(<span class="string">'G'</span>, <span class="string">'image'</span>)</span><br><span class="line">    b = cv2.getTrackbarPos(<span class="string">'B'</span>, <span class="string">'image'</span>)</span><br><span class="line">    s = cv2.getTrackbarPos(switch, <span class="string">'image'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> s == <span class="number">0</span>:</span><br><span class="line">        img[:] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        img[:] = [b, g, r]</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div><p>cv2.createTrackbar()：第一个参数时滑条名称，第二个参数时窗口名称，第三个参数为滑条默认位值，第四个参数为滑条最大值，第五个参数为回调函数(每次拖动滑条都会执行)</p><p>cv2.getTrackbarPos()：第一个参数为滑条名称，第二个参数为窗口名称。返回值为当前滑条的取值</p><center style="color: rgb(224,122,0); font-size: 24px">未完待续~ ~ ~</center><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> OpenCV-Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV-Python </tag>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu18.04终端美化</title>
      <link href="/posts/beca8984.html"/>
      <url>/posts/beca8984.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/04/16/JkF7tO.jpg"><a id="more"></a><p><a href="https://xwmrcj.com/posts/beca8984.html" class="LinkCard">Ubuntu18.04终端美化</a></p><p>大家好！在下摸鱼怪<span style="color: #EC50BA">o(<em>￣▽￣</em>)o</span></p><p>虽然Linux的终端比Windows的终端要看多了，但看久了之后也觉得比较平淡了，所以今天我们就来美化一下Terminal吧<span style="color: #C350EC">（。＾▽＾）</span></p><h6 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h6><ul><li><p>安装zsh</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install zsh</span><br></pre></td></tr></table></figure></div></li><li><p>安装git</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-install git</span><br></pre></td></tr></table></figure></div></li><li><p>安装oh-my-zsh</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>"</span></span><br></pre></td></tr></table></figure></div><div class="note info">            <p>或许会出现curl未安装的错误，需要安装curl</p>          </div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install curl</span><br></pre></td></tr></table></figure></div><p>第二种安装方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">"<span class="variable">$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)</span>"</span></span><br></pre></td></tr></table></figure></div><p>上述方法任选一种即可</p></li></ul><h6 id="设置默认shell"><a href="#设置默认shell" class="headerlink" title="设置默认shell"></a>设置默认shell</h6><ul><li><p>把zsh设置为系统默认shell</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure></div></li><li><p>配置密码文件</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/passwd</span><br></pre></td></tr></table></figure></div><p>将第一行的值改为：<span style="background: #D3E0EA">/bin/zsh</span></p><img src="https://s1.ax1x.com/2020/04/16/Jk9gs0.png"></li></ul><h6 id="主题选择"><a href="#主题选择" class="headerlink" title="主题选择"></a>主题选择</h6><ul><li><p>输入指令</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi .zshrc</span><br></pre></td></tr></table></figure></div><p>找到<span style="background: #D3E0EA">ZSH_THEME</span>，它默认值是<u>“robbyrussell”</u>，将该值修改成你喜欢的主题名字，可以去oh-my-zsh<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" target="_blank" rel="noopener">主题官网</a>查看，我选择的主题是<u>”agnoster“</u>，如图：</p><img src="https://s1.ax1x.com/2020/04/16/Jk9WZT.png"></li><li><p>启用该主题</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .zshrc</span><br></pre></td></tr></table></figure></div></li></ul><h6 id="配置powerline字体"><a href="#配置powerline字体" class="headerlink" title="配置powerline字体"></a>配置powerline字体</h6><p>因为该主题有附加设置：</p><div class="note info">            <p><a href="https://github.com/powerline/fonts" target="_blank" rel="noopener">从Vim-Powerline</a>安装<a href="https://github.com/powerline/fonts" target="_blank" rel="noopener">修补的字体</a>之一，或为特殊字符<a href="https://github.com/powerline/fontpatcher" target="_blank" rel="noopener">自己修补</a>。</p><p>如果没有此项要求或则没有出现乱码，即可忽略本步骤</p>          </div><p>依次执行以下步骤即可：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/powerline/powerline/develop/font/10-powerline-symbols.conf</span><br><span class="line">wget https://raw.githubusercontent.com/powerline/powerline/develop/font/PowerlineSymbols.otf</span><br><span class="line">sudo mkdir /usr/share/fonts/OTF</span><br><span class="line">sudo cp 10-powerline-symbols.conf /usr/share/fonts/OTF/</span><br><span class="line">sudo mv 10-powerline-symbols.conf /etc/fonts/conf.d/</span><br><span class="line">sudo mv PowerlineSymbols.otf /usr/share/fonts/OTF/</span><br></pre></td></tr></table></figure></div><p>大致效果如下：</p><img src="https://s1.ax1x.com/2020/04/16/Jk92LV.png"><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>###### 参考网址 ######<ul><li><a href="https://blog.csdn.net/qq_41725312/article/details/83151867" target="_blank" rel="noopener">https://blog.csdn.net/qq_41725312/article/details/83151867</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> 终端美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop启动时出现Permission denied</title>
      <link href="/posts/94ef7154.html"/>
      <url>/posts/94ef7154.html</url>
      
        <content type="html"><![CDATA[<img src="https://s1.ax1x.com/2020/03/11/8E73CD.jpg"><a id="more"></a><p><a href="https://xwmrcj.com/posts/94ef7154.html" class="LinkCard">Hadoop启动时出现Permission denied</a></p><p>Hello everyone！今天摸鱼怪就总结一下在Ubuntu搭建Hadoop踩过的坑，如果大家想了解搭建Hadoop的详细过程，可以参考一下这个摸鱼怪的<a href="https://www.xiangjunhong.com/posts/ae1da46b.html" target="_blank" rel="noopener">文章</a>😁！</p><hr><h6 id="启动hadoop时出现如下错误"><a href="#启动hadoop时出现如下错误" class="headerlink" title="启动hadoop时出现如下错误"></a>启动hadoop时出现如下错误</h6><img src="https://s1.ax1x.com/2020/03/11/8Eb7H1.png"><p><span style="background: #D3E0EA">permission denied (publickey,password)</span>意思是权限被拒绝(公钥，密码)，说明<u>配置ssh免密登陆没有成功</u>，此时，如果运行：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure></div><p>会提示输入密码。</p><h6 id="重新配置ssh免密登陆"><a href="#重新配置ssh免密登陆" class="headerlink" title="重新配置ssh免密登陆"></a>重新配置ssh免密登陆</h6><p>输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa</span><br><span class="line">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></div><p>然后再次运行：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure></div><div class="note success">            <p>如果本次没有输入密码就登陆成功了，就说明配置ssh免密登陆成功</p>          </div><h6 id="重新格式化NameNode"><a href="#重新格式化NameNode" class="headerlink" title="重新格式化NameNode"></a>重新格式化NameNode</h6><div class="note info">            <p>在本次格式化前，需要删除上次格式化产生的数据</p>          </div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop/tmp/dfs/name</span><br><span class="line">sudo rm -rf current</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>cd后的路径是你自己配的路径</p>          </div><img src="https://s2.ax1x.com/2020/03/11/8ERuHe.png"><p>然后输入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure></div><p>检查是否删除成功，如果输入<span style="background: #D3E0EA"> ls </span>后什么都没显示，则说明删除成功！</p><p>重新格式化NameNode：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./bin/hdfs namenode -format</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>如果日志里出现了“successfully formatted”,则说明格式化成功</p>          </div><h6 id="重新启动hadoop"><a href="#重新启动hadoop" class="headerlink" title="重新启动hadoop"></a>重新启动hadoop</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop</span><br><span class="line">./sbin/start-dfs.sh</span><br></pre></td></tr></table></figure></div><p>此时就不会出现permission denied错误提示了。</p><img src="https://s2.ax1x.com/2020/03/11/8Ef16P.png"><p>启动完成后，可通过命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure></div><p>判断是否成功启动，如过成功启动会列出如下进程：</p><img src="https://s2.ax1x.com/2020/03/11/8EhI8s.png"><p>之后，你就可以打开Firefox，访问<span style="background: #D3E0EA"> localhost:9870 </span></p><img src="https://s2.ax1x.com/2020/03/11/8EIr8J.png"><div class="note success">            <h6 id="至此，Hadoop伪分布式就配置成功了"><a href="#至此，Hadoop伪分布式就配置成功了" class="headerlink" title="至此，Hadoop伪分布式就配置成功了"></a>至此，Hadoop伪分布式就配置成功了</h6><p>希望摸鱼怪总结的对大家有些作用吧！同时也希望各位大佬能指出我的不足，在下一定加以改正</p>          </div><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2017操做sql server数据库</title>
      <link href="/posts/6bdf8b67.html"/>
      <url>/posts/6bdf8b67.html</url>
      
        <content type="html"><![CDATA[<img src="https://s2.ax1x.com/2020/03/08/3xkeun.png"><a id="more"></a><p><a href="https://xwmrcj.com/posts/6bdf8b67.html" class="LinkCard">VS2017操做sql server数据库</a></p><p>新的学期已经到来！作业又开始蹭蹭蹭的往上涨😭。对于一个摸鱼怪来说，简直是要命啊<span style="color: #0948DC">(⊙﹏⊙)</span>！特别是课还没上，作业先到。没办法了，对于一个刚接触数据库的小白也只好踏上完成作业的不归路了<span style="color: #C350EC">＞﹏＜！</span></p><p>好了，话不多说，希望摸鱼怪总结的对大家有丢丢帮助吧<span style="color: #C350EC">(<em>^_^</em>)</span>！</p><hr><ol><li><h5 id="安装sql-server数据库"><a href="#安装sql-server数据库" class="headerlink" title="安装sql server数据库"></a>安装sql server数据库</h5><p>摸鱼怪在这里就不总结了，相信大家都会，实在不行就去问问度娘吧！</p><div class="note warning">            <p>摸鱼怪在这里提醒大家，如果<u>版本太新可能会出现不兼容问题</u>，最开始我用的是sql server2017，但版本太新VS2017无法与该数据库连接，没办法只好卸了再重装一个sql server2014。</p>          </div></li><li><h5 id="新建一个数据库"><a href="#新建一个数据库" class="headerlink" title="新建一个数据库"></a>新建一个数据库</h5><p>打开sql server，点击新建查询，复制执行下面代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> haha</span><br><span class="line"><span class="keyword">on</span> primary(</span><br><span class="line"><span class="keyword">name</span> = <span class="string">'haha'</span>,</span><br><span class="line">filename = <span class="string">'D:\test\haha.mdf'</span>,</span><br><span class="line"><span class="keyword">size</span> = <span class="number">10</span>MB,</span><br><span class="line"><span class="keyword">maxsize</span> = <span class="number">50</span>MB,</span><br><span class="line">filegrowth = <span class="number">5</span>MB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span>(</span><br><span class="line"><span class="keyword">name</span> = <span class="string">'haha_log'</span>,</span><br><span class="line">filename = <span class="string">'D:\test\haha_log.ldf'</span>,</span><br><span class="line"><span class="keyword">size</span> = <span class="number">10</span>MB,</span><br><span class="line"><span class="keyword">maxsize</span> = <span class="number">50</span>MB,</span><br><span class="line">filegrowth = <span class="number">5</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div><div class="note info">            <p><u>sql server不会帮你新建一个文件夹</u>，你需要去D盘新建一个test文件夹，除非test文件夹已建，或者直接修改路径，这都看你的心情<span style="color: #7550EC">(<em>^_^</em>)</span></p>          </div></li><li><h5 id="新建一个表，复制执行下面代码："><a href="#新建一个表，复制执行下面代码：" class="headerlink" title="新建一个表，复制执行下面代码："></a>新建一个表，复制执行下面代码：</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> haha</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"><span class="keyword">ID</span> <span class="built_in">int</span> primary <span class="keyword">key</span> <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">age <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></div><p>然后刷新数据库，就会发现多了一个test数据库，里面也多了一张student表。</p></li><li><h5 id="为student表插入数据，复制执行下面代码："><a href="#为student表插入数据，复制执行下面代码：" class="headerlink" title="为student表插入数据，复制执行下面代码："></a>为student表插入数据，复制执行下面代码：</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student</span><br><span class="line"><span class="keyword">values</span>(<span class="number">111</span>,<span class="string">'张三'</span>,<span class="number">18</span>),(<span class="number">222</span>,<span class="string">'李四'</span>,<span class="number">18</span>),(<span class="number">333</span>,<span class="string">'老王'</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure></div></li><li><h5 id="控制面板配置ODBC数据源"><a href="#控制面板配置ODBC数据源" class="headerlink" title="控制面板配置ODBC数据源"></a>控制面板配置ODBC数据源</h5><p>ODBC就是开放数据库互连，它提供了一种标准的API方法来访问数据库管理系统(DBMS)。具体配置方法大家可以参考这篇<a href="https://blog.csdn.net/qq_39312317/article/details/84944614?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">博文</a>。</p><div class="note info">            <p>大家如果是直接用”SQL Server身份验证“进行登录的，可以不必像博文那样新建一个用户。同时，数据源名称须和你的数据库名称一致，因为测试，这里我们就把名称改为<u>haha</u>。</p>          </div><div class="note warning">            <p><u>在选择连接哪一个SQL Server?</u>如果大家选(local)测试报错了，可以打开<span style="background: #D3E0EA">“SQL Server Managment Studio”</span>在登陆界面将自己的服务器名称粘贴赋值过去试一试，摸鱼怪当初就因为服务器名称没填对掉进坑里，少了”\SQLEXPRESS“<span style="color: #EC8250">≡(▔﹏▔)≡</span></p>          </div><p>然后，在选择数据库这一步，点击<span style="background: #D3E0EA">”更改默认的数据库“</span>，选为<u>haha</u>。</p><p>测试成功后，点击确定，你就会发现”用户 DSN“里多了haha，因为懒惰，这里摸鱼怪就不贴上图片了，希望大家见谅了。其他的步骤都与那片博文一致，只需注意一下上面小小的改动<span style="color: #EC50BA">O(∩_∩)O</span></p></li><li><h5 id="VS2017操作sql-server数据库"><a href="#VS2017操作sql-server数据库" class="headerlink" title="VS2017操作sql server数据库"></a>VS2017操作sql server数据库</h5><ul><li><p>首先打开VS2017，新建一个”Windows 控制台应用程序“，位置可以修改为”D:\test\“。</p></li><li><p>在ConsoleApplication1源文件，<u>删除原来的main函数</u>，添加如下代码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="C"><figure class="iseeu highlight /c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;Windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sql.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sqlext.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sqltypes.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loadDatabase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">SQLRETURN ret;</span><br><span class="line">SQLHENV henv;</span><br><span class="line">SQLHDBC hdbc;</span><br><span class="line">SQLHSTMT hstmt;</span><br><span class="line"></span><br><span class="line">ret = SQLAllocHandle(SQL_HANDLE_ENV, <span class="literal">NULL</span>, &amp;henv);</span><br><span class="line">ret = SQLSetEnvAttr(henv, SQL_ATTR_ODBC_VERSION, (SQLPOINTER)SQL_OV_ODBC3, SQL_IS_INTEGER);</span><br><span class="line">ret = SQLAllocHandle(SQL_HANDLE_DBC, henv, &amp;hdbc);</span><br><span class="line">ret = SQLConnect(hdbc, (SQLCHAR*)<span class="string">"数据库名称"</span>, SQL_NTS, (SQLCHAR*)<span class="string">"用户名"</span>, SQL_NTS, (SQLCHAR*)<span class="string">"密码"</span>, SQL_NTS);</span><br><span class="line"><span class="keyword">if</span> (ret == SQL_SUCCESS || ret == SQL_SUCCESS_WITH_INFO)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"数据库连接成功！\n"</span>;</span><br><span class="line">ret = SQLAllocHandle(SQL_HANDLE_STMT, hdbc, &amp;hstmt);<span class="comment">//申请sql语句句柄</span></span><br><span class="line">SQLCHAR sql[] = <span class="string">"select * from student"</span>;</span><br><span class="line">ret = SQLExecDirect(hstmt, sql, SQL_NTS);<span class="comment">//直接执行sql语句</span></span><br><span class="line"><span class="keyword">if</span> (ret == SQL_SUCCESS || ret == SQL_SUCCESS_WITH_INFO)</span><br><span class="line">&#123;</span><br><span class="line">SQLINTEGER ID,age;</span><br><span class="line">SQLCHAR name[<span class="number">20</span>];</span><br><span class="line">SQLINTEGER len_ID, len_name, len_age;</span><br><span class="line"><span class="keyword">while</span> (SQLFetch(hstmt) != SQL_NO_DATA)</span><br><span class="line">&#123;</span><br><span class="line">SQLGetData(hstmt, <span class="number">1</span>, SQL_C_ULONG, &amp;ID, <span class="number">0</span>, &amp;len_ID);</span><br><span class="line">SQLGetData(hstmt, <span class="number">2</span>, SQL_C_CHAR, name, <span class="number">10</span>, &amp;len_name);</span><br><span class="line">SQLGetData(hstmt, <span class="number">3</span>, SQL_C_ULONG, &amp;age, <span class="number">0</span>, &amp;len_age);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ID &lt;&lt; <span class="string">"    "</span> &lt;&lt; name &lt;&lt; <span class="string">"    "</span> &lt;&lt; age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"查询失败！\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line">SQLFreeHandle(SQL_HANDLE_STMT, hstmt);<span class="comment">//释放语句句柄</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"连接失败！\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line">SQLFreeHandle(SQL_HANDLE_DBC, hdbc);<span class="comment">//释放句柄</span></span><br><span class="line">SQLFreeHandle(SQL_HANDLE_ENV, henv);<span class="comment">//释放环境句柄     </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">loadDatabase();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="note info">            <p>大家在这里注意一下，上面有几处需要你自己修改，<span style="background: #D3E0EA">”数据库名称“</span>也就是当前我们连接的数据库<u>”haha“</u>，<span style="background: #D3E0EA">”用户名“</span>和<span style="background: #D3E0EA">”密码“</span>是你进行<u>SQL Server身份验证的登录名和密码</u>，大家注意修改哦<span style="color: #088741">ఠൠఠ </span></p>          </div></li><li><p>做完以上工作后，然后执行代码，就会发现，问题就找上门来了！<span style="color: #0CB1B3">(っ °Д °;)っ</span>，主要问题描述为：<span style="background: #D3E0EA">“SQLCHAR *” 类型的实参与 “SQLWCHAR *” 类型的形参不兼容</span>。补救方法就是”项目 —&gt;ConsoleApplication1属性—&gt;配置属性—&gt;常规—&gt;项目默认值—&gt;字符集—&gt;改为使用多字节字符集“。然后再次执行就成功了！</p></li></ul></li></ol><hr><p>好了，摸鱼怪能力有限，目前也只能总结到这了<span style="color: #09CDDC">&lt;(＿　＿)&gt;</span>，希望对大家有所帮助吧！大家也可以了解<a href="https://docs.microsoft.com/en-us/sql/odbc/reference/syntax/odbc-api-reference?view=sql-server-ver15" target="_blank" rel="noopener">ODBC API</a>的更多操作！</p><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> VS2017 </category>
          
          <category> sql server </category>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS2017 </tag>
            
            <tag> sql server </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-NexT侧栏添加霓虹灯时钟</title>
      <link href="/posts/389486c1.html"/>
      <url>/posts/389486c1.html</url>
      
        <content type="html"><![CDATA[<img src="https://s2.ax1x.com/2020/03/07/3XPdeS.png"><a id="more"></a><p><a href="https://xwmrcj.com/posts/389486c1.html" class="LinkCard">hexo侧栏添加霓虹灯时钟</a></p><p>摸鱼怪今天就来总结一下如何在Hexo-NexT侧栏添加霓虹灯时钟，我选用的是Gemini主题，添加后的效果如同本博客的主页侧栏。该时钟是由js获取本地时间信息，svg实现动态霓虹灯文字时钟特效。演示效果查看：<a href="https://www.17sucai.com/pins/demo-show?id=36311" target="_blank" rel="noopener">┏ (゜ω゜)=☞</a>。</p><ol><li><p>在/themes/next/layout/_custom/ 目录下，打开sidebar.swig文件，添加如下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">x</span>=<span class="string">"36%"</span> <span class="attr">y</span>=<span class="string">"80%"</span> <span class="attr">class</span>=<span class="string">"words words-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">x</span>=<span class="string">"36%"</span> <span class="attr">y</span>=<span class="string">"80%"</span> <span class="attr">class</span>=<span class="string">"words words-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">x</span>=<span class="string">"36%"</span> <span class="attr">y</span>=<span class="string">"80%"</span> <span class="attr">class</span>=<span class="string">"words words-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"time"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">x</span>=<span class="string">"36%"</span> <span class="attr">y</span>=<span class="string">"80%"</span> <span class="attr">class</span>=<span class="string">"words words-4"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">showtime</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> noatime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> h = noatime.getHours(),</span></span><br><span class="line">        m = noatime.getMinutes(),</span><br><span class="line">        s = noatime.getSeconds();</span><br><span class="line">    h=checktime(h);</span><br><span class="line">    m=checktime(m);</span><br><span class="line">    s=checktime(s);</span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> h+<span class="string">":"</span>+m+<span class="string">":"</span>+s;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">checktime</span><span class="params">(x)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">if</span>(x&lt;<span class="number">10</span>)&#123;</span></span><br><span class="line"><span class="actionscript">    x=<span class="string">"0"</span>+x;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  <span class="keyword">return</span> x;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementsByTagName(<span class="string">"text"</span>);</span></span><br><span class="line"><span class="actionscript">setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> div1)&#123;</span></span><br><span class="line">      div1[i].innerHTML=showtime();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,1000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>/themes/next/source/css/_custom/目录下,打开custom.styl文件，添加如下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.words</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">fill</span>: none;</span><br><span class="line">    <span class="attribute">stroke-width</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">stroke-dasharray</span>: <span class="number">35</span>,<span class="number">125</span>;</span><br><span class="line">    <span class="attribute">animation-name</span>: drawing;</span><br><span class="line">    <span class="attribute">animation-duration</span>: <span class="number">6s</span>;</span><br><span class="line">    <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">    <span class="attribute">animation-timing-function</span>: linear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.words-1</span>&#123;</span><br><span class="line">    <span class="attribute">stroke</span>: deepskyblue;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> deepskyblue;</span><br><span class="line">    <span class="attribute">animation-delay</span>: -<span class="number">1.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.words-2</span>&#123;</span><br><span class="line">    <span class="attribute">stroke</span>: lightseagreen;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> lightseagreen;</span><br><span class="line">    <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.words-3</span>&#123;</span><br><span class="line">    <span class="attribute">stroke</span>: orange;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> orange;</span><br><span class="line">    <span class="attribute">animation-delay</span>: -<span class="number">4.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.words-4</span>&#123;</span><br><span class="line">    <span class="attribute">stroke</span>: purple;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> purple;</span><br><span class="line">    <span class="attribute">animation-delay</span>: -<span class="number">6s</span>;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> drawing &#123;</span><br><span class="line">    100%&#123;</span><br><span class="line">        <span class="attribute">stroke-dashoffset</span>: -<span class="number">160</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>然后大家可以通过<kbd style="font-size: 16px;">hexo s</kbd>命令本地运行一下查看一下效果了。目前，好像next7.2版本之后就移除了_custom文件，大家可以去我的另一篇博客对NexT版本进行修改：</p><p><a href="https://xwmrcj.com/posts/19048.html" class="LinkCard">Hexo博客搭建踩过的坑</a></p></li></ol><center style="color: #08A3F9; font-size: 24px">摸鱼永无止境，大家(ง •_•)ง！！</center>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> NexT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> NexT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git的一些常用命令</title>
      <link href="/posts/21579.html"/>
      <url>/posts/21579.html</url>
      
        <content type="html"><![CDATA[<img src="https://s2.ax1x.com/2020/03/06/3LxdB9.png"><a id="more"></a><p>摸鱼怪最近学习了一下git的用法，对用git管理GitHub仓库的一些常用命令进行一下总结，希望对大家有所帮助！</p><p><a href="https://xwmrcj.com/posts/21579.html" class="LinkCard">git的一些常用命令</a></p><h4 id="用户设置"><a href="#用户设置" class="headerlink" title="用户设置"></a>用户设置</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"your name"</span></span><br><span class="line">git config --global user.email <span class="string">"your email"</span></span><br></pre></td></tr></table></figure></div><p>这两行命令分别是设置<u>全局用户名</u>和<u>全局Email地址</u>，如果要<u>设置当前用户名和地址</u>去掉–global就行了，如果要<u>查看全局用户名或Email地址</u>，去掉引号部分就行；如果要<u>查看当前用户名或Email地址</u>，去掉引号部分和–global。</p><hr><h4 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h4><h6 id="关联一个远程仓库命令："><a href="#关联一个远程仓库命令：" class="headerlink" title="关联一个远程仓库命令："></a>关联一个远程仓库命令：</h6><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:name1/name2.git</span><br></pre></td></tr></table></figure></div><p>name1换成你的GitHub账号，name2换成你的仓库名。然后可以通过命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure></div><p>把本地库的所有内容都推送到远程库上，由于第一次推送远程库是空的，加上了-u，这样可以把本地master分支和远程的master分支关联起来，以后可以简化推送命名：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure></div><h6 id="从远程库克隆"><a href="#从远程库克隆" class="headerlink" title="从远程库克隆"></a>从远程库克隆</h6><p>通过git协议克隆：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:name1/name2.git</span><br></pre></td></tr></table></figure></div><p>name1换成你的GitHub账号，name2换成你的仓库名。</p><p>通过https协议克隆：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/xwmrcj/html-svg.git</span><br></pre></td></tr></table></figure></div><p>克隆地址需要换成你自己的。</p><hr><h6 id="添加文件到Git仓库"><a href="#添加文件到Git仓库" class="headerlink" title="添加文件到Git仓库"></a>添加文件到Git仓库</h6><p>第一步：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure></div><p>添加所有文件，也可以把“.”换成指定的文件名。</p><p>第二步：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"content"</span></span><br></pre></td></tr></table></figure></div><p>content是本次提交的说明。同时，通过使用<span style="background: #D3E0EA">git status</span>命令可以随时掌握工作区的状态。如果有文件被修改，可以通过<span style="background: #D3E0EA">git diff</span>查看被修改文件的内容。</p><p>git的一些常用命令，摸鱼怪就先总就到这里。如果大家对Git感兴趣，可以去<span style="color: #ebc334">┏ (゜ω゜)=☞</span><a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">廖雪峰大神的官方网站</a>上学习。</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建踩过的坑</title>
      <link href="/posts/19048.html"/>
      <url>/posts/19048.html</url>
      
        <content type="html"><![CDATA[<img src="https://s2.ax1x.com/2020/03/06/3LxfHA.png"><a id="more"></a><p><a href="https://xwmrcj.com/posts/19048.html" class="LinkCard">Hexo博客搭建踩过的坑</a></p><p>摸鱼怪今天就总结一下以前搭建博客踩过的坑，希望对大家有所帮助！</p><p>hexo本地测试输入<span style="background: #D3E0EA">hexo s</span>，通常它的默认地址是<span style="background: #D3E0EA">localhost:4000</span>，默认的是本地4000端口。可能有些计算机会出现<u>无法访问此页面</u>，可能原因是当前端口被其他应用占用了。此时大家可以换一个端口：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s -p 5000</span><br></pre></td></tr></table></figure></div><p>数字根据大家的喜好，如何又出现端口被占用情况，可以再换一个端口号试试。同时大家也可以释放掉当前被占用的端口，具体做法可参考<a href="https://jingyan.baidu.com/article/3c48dd34491d47e10be358b8.html" target="_blank" rel="noopener">此链接</a>，但小编不建议这么做，除非你清楚占用该端口的应用没有用。</p><hr><p>记得摸鱼怪当初搭建博客时，在NexT主题版本上踩了一很久的坑，新版的很多配置都进行了修改。大家可以去<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">hexo-theme-next</a>的GitHub上选取自己喜欢的版本，下载压缩包，解压到<u>站点</u>的<span style="background: #D3E0EA">themes</span>文件里面，然后打开<u>站点</u>配置文件<span style="background: #D3E0EA">_config.yml</span>搜索<u>theme</u>，将其值改为当前解压的NexT版本的文件名。NexT主题的配置网上有很多教程，希望大家能搭建出自己心仪的博客！</p><p><span style="color: #08A3F9">(ง •_•)ง    (ง •_•)ง</span></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> NexT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> NexT </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
